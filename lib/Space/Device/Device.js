'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _log=require('../../Utilities/log');var _log2=_interopRequireDefault(_log);var _isMobile=require('../../Utilities/isMobile');var _isMobile2=_interopRequireDefault(_isMobile);var _DesktopDeviceController=require('./Desktop/DesktopDeviceController');var _DesktopDeviceController2=_interopRequireDefault(_DesktopDeviceController);var _MobileDeviceController=require('./Mobile/MobileDeviceController');var _MobileDeviceController2=_interopRequireDefault(_MobileDeviceController);var _HeadMountedDisplay=require('./HeadMountedDisplay/HeadMountedDisplay');var _HeadMountedDisplay2=_interopRequireDefault(_HeadMountedDisplay);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}var instance=null;var Device=function(){function Device(space){var _this=this;_classCallCheck(this,Device);this.name='DeviceManager';if(navigator.getVRDisplays!==undefined){navigator.getVRDisplays().then(function(displays){if(displays.length>0){(0,_log2.default)('Detected: Desktop, VR: true',_this.name,true);instance=new _HeadMountedDisplay2.default(space);return instance}else{if(_isMobile2.default.any()){(0,_log2.default)('Detected: Mobile, VR: false',_this.name,true);return new _MobileDeviceController2.default(space)}else{(0,_log2.default)('Detected: Desktop, VR: false',_this.name,true);instance=new _DesktopDeviceController2.default(space);return instance}}})}else{if(_isMobile2.default.any()){(0,_log2.default)('Detected: Mobile, VR: false',this.name,true);return new _MobileDeviceController2.default(space)}else{(0,_log2.default)('Detected: Desktop, VR: false',this.name,true);instance=new _DesktopDeviceController2.default(space);return instance}}}_createClass(Device,null,[{key:'get',value:function get(){return instance}}]);return Device}();exports.default=Device;